# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 1
  # The server action timeout can be increased to a maximum of 10 minutes.
  # The default is 60s.
  timeoutSeconds: 120
  env:
    NEXT_PUBLIC_FIREBASE_API_KEY: "AIzaSyBYvIGN0-Yd1b7LG2Seg6VwfKnTYIo4n_4"
    NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN: "shotanalisys.firebaseapp.com"
    NEXT_PUBLIC_FIREBASE_PROJECT_ID: "shotanalisys"
    NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET: "shotanalisys.appspot.com"
    NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID: "602998191800"
    NEXT_PUBLIC_FIREBASE_APP_ID: "1:602998191800:web:dd8a758d589b12b3c5264d"
    NEXT_PUBLIC_APP_URL: "https://shot-analysis--shotanalisys.us-central1.hosted.app"
    MP_WEBHOOK_URL: "https://shot-analysis--shotanalisys.us-central1.hosted.app/api/payments/webhook"
    GEMINI_API_KEY: "AIzaSyBGVlvWqL2FZmOMvNQu8lzxcOQtbmTTEcM"
    GOOGLE_API_KEY: "AIzaSyBGVlvWqL2FZmOMvNQu8lzxcOQtbmTTEcM"
    GOOGLE_GENAI_API_KEY: "AIzaSyBGVlvWqL2FZmOMvNQu8lzxcOQtbmTTEcM"
    # Firebase Admin en App Hosting usa ADC; no setear client_email/private_key
    FIREBASE_ADMIN_PROJECT_ID: "shotanalisys"

# Defines a "flow" that can be deployed to Cloud Functions.
# This can be triggered via an HTTP request or any other supported
# event trigger.
# https://firebase.google.com/docs/functions
flows:
  - id: processUploadedVideo
    entryPoint: processUploadedVideo
    # By default, flows are not publicly accessible
    # https://firebase.google.com/docs/functions/securing-functions
    # We'll need to secure this in a production environment.
    allowInsecure: true
